<br><br>
<div class="contenedorPrincipal">
  <div class="buscador-izquierda">
<app-buscador (parametrosCambiados)="recibirParametrosDelHijo($event)"></app-buscador>
</div>
<div class="contenido-derecha">
<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <label for="nItemsPorPag">Introduce cantidad de viviendas por página</label>
    <input type="number" id="nItemsPorPag" class="form-control" [(ngModel)]="itemsPorPag" (ngModelChange)="actualizarBotones()">
  </div>
  <div>
    <nav aria-label="Page navigation" class="justify-content-center">
      <ul class="pagination">
        <ng-container *ngFor="let pagina of nPaginas center">
          <li class="page-item">
            <a class="page-link" (click)="mostrarPagina(pagina)">{{pagina}}</a>
          </li>
        </ng-container>
      </ul>
    </nav>
  </div>
</div>

<!-- Tu tabla -->
<table class="table table-striped table-bordered">
  <!-- Encabezado de la tabla -->
  <thead class="thead-dark">
    <tr>
      <th>ID</th>
      <th>Tipo</th>
      <th>Zona</th>
      <th>Dirección</th>
      <th>N Dormitorios</th>
      <th>Tamaño</th>
      <th>Extras</th>
      <th>Precio</th>
      <th>Observaciones</th>
      <th>Fecha Anuncio</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <!-- Cuerpo de la tabla -->
  <tbody>
    <ng-container *ngFor="let vivienda of viviendas;">
      <tr>
        <ng-container *ngFor="let columna of columnasVivienda">
          <td>{{vivienda[columna]}}</td>
        </ng-container>
        <td><button (click)="borrarVivienda(vivienda.id)">Borrar</button></td>
        <td><button (click)="usarVentanaEmergente(vivienda)">Modificar</button></td>
      </tr>
    </ng-container>
  </tbody>
</table>








<div *ngIf="mostrarVentanaEmergente" class="ventana-emergente">
  <div class="ventana-emergente-contenido">
    <h3>Modificar vivienda</h3>
      <br>
      <table class="table table-striped table-bordered tabla-emergente">
        <thead class="thead-dark">
          <tr>
            
            <th>Tipo</th>
            <th>Zona</th>
            <th>Dirección</th>
            <th>N Dormitorios</th>
            <th>Tamaño</th>
            <th>Extras</th>
            <th>Precio</th>
            <th>Observaciones</th>
            <th>Fecha Anuncio</th>
            <th></th>
            
          </tr>
        </thead>
        <tr>
          
            <td>
              <select name="tipo" id="tipo" [(ngModel)]="viviendaAModificar.tipo">
                <option value="Piso">Piso</option>
                <option value="Adosado">Adosado</option>
                <option value="Chalet">Chalet</option>
                <option value="Casa">Casa</option>
              </select>
            </td>
            <td>
              <select [(ngModel)]="viviendaAModificar.zona">
                <option value="Centro">Centro</option>
                <option value="Norte">Norte</option>
                <option value="Sur">Sur</option>
                <option value="Este">Este</option>
                <option value="Oeste">Oeste</option>
              </select>
            </td>

            <td>
              <input type="text" [ngModel]="viviendaAModificar.direccion">
            </td>
            <td>
              <select [(ngModel)]="viviendaAModificar.ndormitorios">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5 o más">5 o más</option>
              </select>
            </td>
            <td>
              <input type="number" [(ngModel)] = "viviendaAModificar.precio">
            </td>
            <td>
              <input type="number" [(ngModel)] = "viviendaAModificar.tamano">
            </td>
            <td>
              <select [(ngModel)]="viviendaAModificar.extras">
                <option value="Piscina">Piscina</option>
                <option value="Jardín">Jardín</option>
                <option value="Garaje">Garaje</option>
              </select>
            </td>
            <td>
              <input type="text" [(ngModel)] = "viviendaAModificar.observaciones">
            </td>
            <td>
              <input type="date" [(ngModel)] = "viviendaAModificar.fecha_anuncio">
            </td>
       
         
       

        </tr>
      </table>

    
    <button type="button" class="btn btn-secondary" (click)="modificarVivienda()">Modificar</button>
  </div>
</div>

</div>
</div>